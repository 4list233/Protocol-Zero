ğŸš€ QUICK START - BEGIN HERE:

You are working directly in the Knack Airsoft Database dashboard to input product variant data.

NEW WORKFLOW: Variants are already imported to Knack. You edit each variant, use its Purchase URL to open Taobao for context, then translate/parse and fill fields.

IMMEDIATE ACTION REQUIRED - DO THIS FIRST:

1. NAVIGATE TO KNACK VARIANTS:
   - You should see the Knack internal dashboard
   - Go to Variants object/table
   - You should see a list of variants with Edit buttons

2. IDENTIFY VARIANTS:
   - Count variants in the list (e.g., 254 variants)
   - Look for variants with Chinese names or empty option fields
   - Each variant should have an "Edit" button or edit icon

3. CONFIRM SCOPE:
   - Ask user: "I see X variants in Knack. Should I process all of them, or start with a specific subset?"
   - If no response, start with first 10 variants as test batch

4. BEGIN PROCESSING:
   - Click "Edit" button for first variant
   - Edit form opens with all fields
   - Follow steps below to fill fields

EXAMPLE STARTUP MESSAGE:
"I see the Knack dashboard with X variants. Should I process all of them, or start with a specific subset? I'll begin by clicking Edit on the first variant and filling in the translated/parsed data."

IF KNACK NOT VISIBLE:
"I don't see the Knack dashboard. Please navigate to the Variants list in Knack so I can begin editing variants."

TASK: For each variant URL from CSV:
1. Open variant-specific purchase URL (from CSV Variant URL column)
2. Extract Chinese product name from page and translate to English
3. Extract Chinese variant name from page and translate to English
4. Parse variant options from page context (Color/Size/Style)
5. Extract prices from page (CNY and CAD)
6. Fill in Knack form fields including translations, options, prices, and purchase URL

TRANSLATION PROCESS:

CRITICAL: Translate Chinese names to English using Taobao page context.

1. Extract Chinese product name from page title
2. Translate to English: Remove brand names, keep military terms, use airsoft context
3. Extract Chinese variant name from page (variant option text)
4. Translate to English based on context:
   - Chinese colors: "é»‘è‰²"â†’"Black", "ç‹¼ç°è‰²"â†’"Wolf Grey", "ç‹¼æ£•è‰²"â†’"Coyote Brown", "æ¸¸éª‘å…µç»¿"â†’"Ranger Green", "å†›ç»¿è‰²"â†’"Army Green", "æ²™è‰²"â†’"Sand", "æ³¥è‰²"â†’"Tan", "MCè¿·å½©"â†’"MultiCam", "CPè¿·å½©"â†’"CP Camo", "æš—å¤œè¿·å½©"â†’"Black Camo"
   - Chinese sizes: "S"â†’"S", "M"â†’"M", "L"â†’"L", "XL"â†’"XL", "å‡ç "â†’"One Size", "é€šç”¨"â†’"Universal", keep measurements like "85-125cm"
   - Chinese styles: "CNC"â†’"CNC", "é‡‘å±"â†’"Metal", "é“åˆé‡‘"â†’"Aluminum", "å°¼é¾™"â†’"Nylon", "è€ƒåº¦æ‹‰"â†’"Cordura", "æ ‡å‡†"â†’"Standard", "å‡çº§ç‰ˆ"â†’"Upgraded", "å¥—è£…"â†’"Set"
5. Combine multiple options: Color+Size â†’ "Black / M" or "Black-M", Color+Style â†’ "Black / CNC"
6. Add codes for clarity: "Black / BK", "Wolf Grey / WG - M"
7. Put translated variant name in Description field (similar to current workflow)

VARIANT PARSING RULES:

COLOR PATTERNS â†’ Normalize to English:
- English: blackâ†’Black, whiteâ†’White, greyâ†’Grey, brownâ†’Brown, tanâ†’Tan, sandâ†’Sand, greenâ†’Green, blueâ†’Blue, redâ†’Red, pinkâ†’Pink
- Codes: BKâ†’Black, WGâ†’Wolf Grey, CBâ†’Coyote Brown, RGâ†’Ranger Green, ODâ†’Olive Drab, MCâ†’MultiCam, CPâ†’CP Camo, BCPâ†’Black Camo
- Chinese: é»‘è‰²/é»‘â†’Black, ç™½è‰²/ç™½â†’White, ç°è‰²/ç°â†’Grey, ç‹¼ç°è‰²/ç‹¼ç°â†’Wolf Grey, æ£•è‰²/æ£•â†’Brown, ç‹¼æ£•è‰²/ç‹¼æ£•/åœŸç‹¼æ£•â†’Coyote Brown, æ²™è‰²â†’Sand, æ³¥è‰²â†’Tan, å¡å…¶â†’Khaki, ç»¿è‰²/ç»¿â†’Green, å†›ç»¿è‰²/å†›ç»¿â†’Army Green, æ¸¸éª‘å…µç»¿è‰²/æ¸¸éª‘å…µç»¿â†’Ranger Green, çº¢è‰²/çº¢â†’Red, ç«çº¢è‰²â†’Rose Red, ç²‰è‰²/ç²‰çº¢è‰²â†’Pink, è“è‰²/è“â†’Blue, é‡‘è‰²/é‡‘â†’Gold, é“¶è‰²/é“¶â†’Silver, æ¶ˆå…‰é»‘â†’Matte Black
- Camo: è¿·å½©â†’Camouflage, CPè¿·å½©â†’CP Camo, æš—å¤œè¿·å½©â†’Black Camo, ä¸›æ—è¿·å½©â†’Jungle Camo, åºŸå¢Ÿè¿·å½©/åºŸå¢Ÿâ†’Ruins Camo, multicamâ†’MultiCam

SIZE PATTERNS â†’ Normalize:
- Standard: XXS, XS, S, M, L, XL, XXL, XXXL, 2XL, 3XL, 4XL
- One-size: å‡ç â†’One Size, one size/free sizeâ†’One Size, universal/é€šç”¨â†’Universal
- Chinese: å¤§æ¬¾â†’Large, å°æ¬¾â†’Small, çŸ­æ¬¾â†’Short, çŸ®æ¬¾â†’Low Profile, åŠ å¤§æ¬¾â†’XL, å°å·â†’Small
- Numeric: 80-110, 110-150, 150-210 (weight ranges), 85-125cm, 90-130cm (measurements), 20cm, 30mm
- Quantity: ä¸€ä¸ª/ä¸€å—/ä¸€åªâ†’1 pc, ä¸¤ä¸ª/2ä¸ªâ†’2 pcs, ä¸‰ä¸ª/3ä¸ªâ†’3 pcs, ä¸€å¥—â†’1 Set

STYLE/MATERIAL PATTERNS â†’ Normalize:
- Materials: CNCâ†’CNC, metal/é‡‘å±â†’Metal, aluminum/é“åˆé‡‘â†’Aluminum, nylon/å°¼é¾™â†’Nylon, cordura/è€ƒåº¦æ‹‰â†’Cordura
- Styles: standard/æ ‡å‡†â†’Standard, upgradedâ†’Upgraded, set/å¥—è£…â†’Set, single/å•â†’Single, dual/åŒâ†’Dual, left/å·¦â†’Left, right/å³â†’Right

PARSING LOGIC:
1. Identify Color first (highest priority) â†’ Option Type 1 = "Color", Option Value 1 = normalized color
2. If Color found, check for Size â†’ Option Type 2 = "Size", Option Value 2 = normalized size
3. If Color found but no Size, check for Style â†’ Option Type 2 = "Style", Option Value 2 = normalized style
4. If no Color but Size found â†’ Option Type 1 = "Size", Option Value 1 = normalized size
5. If no Color/Size but Style found â†’ Option Type 1 = "Style", Option Value 1 = normalized style

KNACK FIELD MAPPINGS:
- Variant Name (field_62): Full variant name from Taobao (e.g., "é»‘è‰² / BK - M")
- Option Type 1 (field_145): "Color", "Size", or "Style" (or empty)
- Option Value 1 (field_146): Normalized value (e.g., "Black", "M", "CNC") (or empty)
- Option Type 2 (field_147): "Size" or "Style" if second dimension exists (or empty)
- Option Value 2 (field_148): Normalized value for second dimension (or empty)
- Purchase URL: Capture URL after clicking variant (URL may change with variant parameters)

WORKFLOW:

STEP 0: SETUP IN KNACK
1. Navigate to Variants list in Knack dashboard
2. Count variants and confirm scope with user
3. Identify first variant to process

STEP 1: OPEN VARIANT EDIT FORM
1. Click "Edit" button for variant in Knack list
2. Edit form opens showing all fields
3. Check "Purchase URL" or "Variant URL" field - contains Taobao URL
4. Note current field values (may be Chinese or empty)

STEP 2: OPEN TAOBAO PAGE
5. Copy Variant URL from Knack edit form
6. Open URL in new browser tab
7. Wait for Taobao page to load completely
8. Verify correct variant is selected on page

STEP 3: EXTRACT & TRANSLATE FROM TAOBAO
9. Extract Chinese product title from Taobao page
10. Translate product title to English using page context
11. Extract Chinese variant name from Taobao page (variant option text)
12. Translate variant name to English using page context
13. Parse variant options from page (Color/Size/Style) using context
14. Extract prices from page (CNY and CAD)

STEP 4: FILL KNACK EDIT FORM
15. Return to Knack edit form (still open)
16. Fill in fields:
    - Product Title: translated English name
    - Product Title ZH: Chinese name (keep as-is)
    - Variant Name: translated English name
    - Description: translated variant name (similar to current workflow)
    - Option Type 1: primary dimension (Color/Size/Style)
    - Option Value 1: normalized value
    - Option Type 2: secondary dimension if exists
    - Option Value 2: normalized value if exists
    - Purchase URL: verify it's filled (from Step 1)
    - Price CNY: extracted from page
    - Price CAD: calculated/input
17. Click "Save" or "Submit" button
18. Return to variants list
19. Click "Edit" for next variant
20. Repeat until all variants processed

LEARNING FROM PAGE:
- Look for option labels: "é¢œè‰²" (Color), "å°ºç " (Size), "è§„æ ¼" (Specification)
- Colored squares/buttons usually = colors
- Text buttons with measurements = sizes
- Material words = styles
- Options may cascade (selecting Color filters available Sizes)

EXAMPLES:

Translation & Parsing (Chinese â†’ English):
- Taobao shows "é»‘è‰²" â†’ Variant Name: "Black / BK" â†’ Description: "Black / BK" â†’ Type1: Color, Value1: Black, Type2: empty, Value2: empty
- Taobao shows "ç‹¼ç°è‰² / WG - M" â†’ Variant Name: "Wolf Grey / WG - M" â†’ Description: "Wolf Grey / WG - M" â†’ Type1: Color, Value1: Wolf Grey, Type2: Size, Value2: M
- Taobao shows "85-125cm" (under "å°ºç ") â†’ Variant Name: "85-125cm" â†’ Description: "85-125cm" â†’ Type1: Size, Value1: 85-125cm, Type2: empty, Value2: empty
- Taobao shows "é»‘è‰² CNC" â†’ Variant Name: "Black / CNC" â†’ Description: "Black / CNC" â†’ Type1: Color, Value1: Black, Type2: Style, Value2: CNC
- Taobao shows "å‡ç " â†’ Variant Name: "One Size" â†’ Description: "One Size" â†’ Type1: Size, Value1: One Size, Type2: empty, Value2: empty

QUALITY CHECK:
- Variant-specific URL opened from CSV âœ“
- Chinese product name extracted from page âœ“
- Product name translated to English âœ“
- Chinese variant name extracted from page âœ“
- Variant name translated to English âœ“
- Translated variant name in Description field âœ“
- Options parsed correctly from page context âœ“
- Prices extracted from page âœ“
- Purchase URL from CSV input âœ“
- Fields normalized properly âœ“

